<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Create a New Invoice</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
  <header>
    <nav class="flex place-content-between m-7 font-semibold">
      <div class="logo-container">
        <a href="./invoice.html"></a>
      </div>
      <div class="menu">
        <a class="p-5" href="./invoice.html">Invoice</a>
        <a class="p-5" href="#">Quotation</a>
        <a class="p-5" href="#">About Us</a>
      </div>
      <div class="logout">
        <a href="./login.html">Log out â†’</a>
      </div>
    </nav>
    <section class="flex items-center justify-center relative w-full h-60">
      <img src="/assets/bg2.png" class="absolute w-full h-full object-cover brightness-50" />
      <h1 class="absolute font-bold text-[30px] text-white">Create a New Invoice</h1>
    </section>
  </header>

  <main class="flex items-center justify-center">
    <!-- The form now has an ID for our script to find -->
    <form id="create-invoice-form" class="invoice-form m-10 border-2 p-6 rounded relative justify-self-center w-full max-w-4xl">
      <h2 class="font-bold text-[25px] pb-4">New Invoice Details</h2>
      
      <!-- Using a grid for better layout -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        
        <!-- Column 1 -->
        <div>
          <div>
            <label for="invoice_number">Invoice number *</label>
            <input placeholder="INV-Q-2025-001" class="mb-3 border-2 rounded p-1.5 w-full" type="text" id="invoice_number" name="invoice_number" required />
          </div>
          <div>
            <label for="client_id">Client ID *</label>
            <input placeholder="e.g., 1" class="mb-3 border-2 rounded p-1.5 w-full" type="number" id="client_id" name="client_id" required />
          </div>
          <div>
            <label for="quotation_number">Quotation Number</label>
            <input placeholder="Q-2025-001" class="mb-3 border-2 rounded p-1.5 w-full" type="text" id="quotation_number" name="quotation_number" required /> 
          </div>
          <div>
            <label for="status">Status *</label>
            <select class="mb-3 border-2 rounded p-1.5 w-full" id="status" name="status">
              <option value="Pending">Pending</option>
              <option value="Paid">Paid</option>
              <option value="Unpaid">Unpaid</option>
              <option value="Overdue">Overdue</option>
            </select>
          </div>
        </div>

        <!-- Column 2 -->
        <div>
          <div>
            <label for="issue_date">Issue Date *</label>
            <input placeholder="2025-01-01T00:00:00.000Z" class="mb-3 border-2 rounded p-1.5 w-full" type="text" id="issue_date" name="issue_date" required />
          </div>
          <div>
            <label for="due_date">Due Date *</label>
            <input placeholder="2025-01-02T00:00:00.000Z"  class="mb-3 border-2 rounded p-1.5 w-full" type="text" id="due_date" name="due_date" required />
          </div>
           <div>
            <label for="currency">Currency *</label>
            <input value="THB" class="mb-3 border-2 rounded p-1.5 w-full" type="text" id="currency" name="currency" required />
          </div>
        </div>

        <!-- Column 3 -->
        <div>
          <div>
            <!-- The ID is now 'subtotal' to match the API docs -->
            <label for="subtotal">Subtotal *</label>
            <input class="mb-3 border-2 rounded p-1.5 w-full" type="number" id="subtotal" name="subtotal" placeholder="0" required step="0.01"/>
          </div>
          <div>
            <label class="flex place-content-between" for="tax_amount">Tax Amount * <span class="font-bold text-[12px] text-gray-400">(7%)</span></label>
            <input class="mb-3 border-2 rounded p-1.5 w-full" type="number" id="tax_amount" name="tax_amount" placeholder="0" required step="0.01"/>
          </div>
          <div>
            <label for="total_amount">Total Amount *</label>
            <input class="border-2 rounded p-1.5 w-full" type="number" id="total_amount" name="total_amount" placeholder="0" required step="0.01"/>
          </div>
           <div>
            <label for="created_by">Created by *</label>
            <input class="border-2 rounded p-1.5 w-full" type="number" id="created_by" name="created_by" placeholder="0" required step="0.01"/>
          </div>
        </div>

        <!-- Notes field spanning full width -->
        <div class="md:col-span-2 lg:col-span-3">
          <label for="notes">Notes</label>
          <textarea id="notes" name="notes" rows="4" class="border-2 rounded p-1.5 w-full"></textarea>
        </div>
      </div>

      <!-- Form Actions -->
      <div class="mt-8 flex justify-end gap-4">
        <a href="/invoice.html" class="text-[14px] rounded-md bg-gray-500 text-white px-4 py-2">Cancel</a>
        <!-- The button is now a proper submit button -->
        <button class="text-[14px] rounded-md bg-sky-700 text-white px-4 py-2" type="submit">
          Create Invoice
        </button>
      </div>
    </form>
  </main>

  <footer class="bg-sky-800 py-3 text-white flex items-center justify-center w-full mt-10">
    <p>Use for Demo &copy; Faculty of ICT, Mahidol University</p>
  </footer>

  <!-- Script that handles the form submission -->
  <script type="module" src="../dist/create_invoice.js"></script>
</body>
</html>